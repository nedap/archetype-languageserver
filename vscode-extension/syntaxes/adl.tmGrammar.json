{
	"scopeName": "source.adl",
	"patterns": [{ "include": "#odinField" }],
	"repository": {
		"basics": {
			"patterns": [
				{ "include": "#comment" },			
				{ "include": "#odinField"  },
				{ "include": "#definition"  },
				{ "include": "#sections"  }
			]
		},
	  	"comment": {
			"name": "comment",
			"match": "--.*$"
		},
		"string": {
			"name": "string.doubleQuoted",
			"match": "\"[^\"]*?\""
		},
		"number": {
			"name": "number",
			"match": "-?\\d+\\.(\\d+([eE][-+]?\\d+)?)?"
		},
		"sections": {
			"name": "keyword",
			"match": "(archetype|template|operational_template|template_overlay|terminology|definition|language|specialise|description)"
		},
		"odinField": {
			"name": "meta.odin.start",
			"begin": "([a-zA-Z_$][a-zA-Z0-9_$]+)(\\s)*=(\\s)*<",
			"end": ">",
			"beginCaptures": {
				"1": {"name": "support.type.property.name"}
			},
			"endCaptures": {
				"0": {"name":"punctuation.odin.object.end"}
			},
			"patterns": [{"include": "#odinContent"}]
		},
		"odin": {
			"patterns": [
				{ "include": "#comment" },
				{ "include": "#odinHash" },
				{ "include": "#odinField" },
				{ "include": "#odinPrimitive" }
				
			]
		},
		"odinEquals": {
			"match": "=",
			"name": "keyword.operator.equals"
		},
		"odinHash": {
			"name": "meta.odin.hash",
			"begin": "\\[(\".*\")]\\s*=\\s*<",
			"end": ">",
			"beginCaptures": {
				"1": {"name":"string.odin support.variable.property.name"}
			},
			"endCaptures": {
				"0": {"name":"punctuation.odin.hash.end"}
			},
			"patterns": [{"include": "#odinContent"}]
		},
		"odinContent": {
			"name": "string.odin.primitive",
			"patterns": [
				{"include": "#string"}, 
				{"include": "#number"}, 
				{"include": "#comment"}, 
				{ "include": "#odinHash" }, 
				{ "include": "#odinField" }]
		},
		"definition": {
			"begin": "(definition)(\\s\\n)*",
			"end": "[a-zA-Z]",
			"beginCaptures": {
				"0": "keyword"
			}
		}
	}
}
	  
  
	